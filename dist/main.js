!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=(e,t)=>{let n,o=0;e.style.display="none";const r=function(){e.style.display="block",e.style.opacity="1",document.documentElement.clientWidth>=768&&(n=requestAnimationFrame(r),o<1?(o+=.03,e.style.opacity=o):cancelAnimationFrame(n))},l=function(){n=requestAnimationFrame(l),o>0?(o-=.05,e.style.opacity=o):(e.style.display="none",cancelAnimationFrame(n))};t.forEach(e=>{e.addEventListener("click",r)}),e.addEventListener("click",e=>{let t=e.target;t.classList.contains("popup-close")?l():(t=t.closest(".popup-content"),t||l())})};var r=()=>{const e=document.querySelectorAll(".panel-group"),t=document.querySelectorAll("[role=tab]"),n=document.querySelectorAll("[role=tabpanel]");e.forEach(e=>{e.addEventListener("click",e=>{let o=e.target;o=o.closest(".panel-heading"),o&&t.forEach((e,t)=>{e===o&&(e=>{for(let t=0;t<n.length;t++)n[t].style.display=e===t?"block":"none"})(t)})})})};var l=()=>{document.querySelectorAll("input[name=user_phone]").forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/([^+0-9]+)/gi,"")})});document.querySelectorAll("input[name=user_name]").forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/([^а-я]+)/gi,"")})});const e=document.querySelector("input[name=user_quest]");e.addEventListener("input",()=>{e.value=e.value.replace(/([^.,а-я]+)/gi,"")})};var c=()=>{const e=document.getElementById("accordion"),t=e.querySelector("input[type=checkbox]"),n=document.getElementById("myonoffswitch-two"),o=e.querySelectorAll("a.button.construct-btn"),r=document.querySelectorAll("[role=tabpanel]"),l=document.querySelectorAll("#collapseTwo>div.panel-body>div"),c=document.getElementById("calc-result");l.forEach((e,t)=>{t>2&&(e.style.display="none")});const a=()=>{const o=e.querySelectorAll(".form-control.expand");let r=0,l=0,a=0,u=0,s=0,i=1e4,d=5e3;if(t.checked)r=i,l=i,2===parseFloat(o[0].value)&&(a=1.2*i,r=a,l=r),2===parseFloat(o[1].value)&&(r*=1.3),3===parseFloat(o[1].value)&&(r*=1.5),n.checked?r*=1.1:r*=1;else{r=i+d,l=i+d,2===parseFloat(o[0].value)&&(i*=1.2),2===parseFloat(o[1].value)&&(u=.3*i),3===parseFloat(o[1].value)&&(u=.5*i);const e=i+u;2===parseFloat(o[2].value)&&(d*=1.2),2===parseFloat(o[3].value)&&(s=.2*d),3===parseFloat(o[3].value)&&(s=.4*d);r=e+(d+s),n.checked?r*=1.2:r*=1}c.value=Math.round(r)};e.addEventListener("change",e=>{if(e.target.matches(".form-control")){parseFloat(e.target.value);a()}});t.addEventListener("change",e=>{e.target.checked?(l.forEach((e,t)=>{t>2&&(e.style.display="none")}),a()):(l.forEach((e,t)=>{t>2&&(e.style.display="inline-block")}),a())}),n.addEventListener("change",e=>{e.target.checked,a()}),o.forEach((e,t)=>{e.addEventListener("click",()=>{r[t+1].style.display="block"})}),a()};var a=()=>{const e=document.querySelector("button.add-sentence-btn");e.addEventListener("click",()=>{document.querySelectorAll(".col-xs-12.col-sm-6.col-md-4").forEach(e=>{e.classList.remove("hidden","visible-sm-block")}),e.style.display="none"})};var u=()=>{const e=document.createElement("div");e.style.cssText="font-size: 2rem",e.id="stat-message";const t=document.querySelectorAll("input[name=user_quest], #calc-result, #collapseFour>.panel-body>input"),n=document.querySelector("#collapseFour>.panel-body>button");n.id="calcOut",n.type="submit",document.querySelector("button.director-btn.consultation-btn").addEventListener("click",e=>{e.preventDefault()}),document.querySelector("body").addEventListener("submit",n=>{if(n.target.matches("button.director-btn.consultation-btn")&&(n.preventDefault(),console.log(n.target)),n.target.closest(".main-form")||n.target.closest(".capture-form")){n.preventDefault(),n.target.append(e),e.textContent="Загрузка...";const o=new FormData(n.target),r={};(t[0].value||t[1])&&(r.distance_home=t[0].value,r.calc_ressult=t[1].value),t[2].value&&(r.user_quest=t[2].value),o.forEach((e,t)=>{r[t]=e}),(e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}))(r).then(t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы с вами свяжемся",(()=>{[...document.querySelectorAll(".row>div>input"),...document.querySelectorAll("form>div>input")].forEach(e=>{e.value=""});const e=document.querySelector("#stat-message");setTimeout(()=>{e.parentNode.removeChild(e)},3e3)})()}).catch(t=>{e.textContent="Что то пошло не так...",console.error(t)})}})};o(document.querySelector(".popup-call"),document.querySelectorAll(".call-btn")),o(document.querySelector(".popup-discount"),document.querySelectorAll(".discount-btn")),o(document.querySelector(".popup-check"),document.querySelectorAll(".check-btn")),o(document.querySelector(".popup-consultation"),document.querySelectorAll(".director-btn")),r(),l(),c(),a(),u()}]);